"use strict";(globalThis["webpackChunkakc_solutions"]=globalThis["webpackChunkakc_solutions"]||[]).push([[905],{8236:(e,t,a)=>{a.d(t,{Z:()=>n});var l=a(5474),o=a(4434);function n(e){const t=async(t=null,a=null)=>{try{const o={};t&&(o.page=t),a&&Object.assign(o,a);const{data:n}=await l.api.get(e+"/read.php",{params:o});return n}catch(o){return{error:i(o)}}},a=async t=>{try{const{data:a}=await l.api.get(`${e}/read.php?id=${t}`);return a}catch(a){return{error:i(a)}}},n=async t=>{t=u(t);try{const{data:a}=await l.api.post(e+"/store.php",t);return o.Z.create({color:"positive",position:"top-right",message:a.success,icon:"done"}),a}catch(a){return{error:i(a)}}},s=async t=>{t=u(t);try{const{data:a}=await l.api.post(e+"/update.php",t);return o.Z.create({color:"positive",position:"top-right",message:a.success,icon:"done"}),a}catch(a){return{error:i(a)}}},r=async t=>{try{const{data:a}=await l.api["delete"](`${e}/delete.php?id=${t}`);return o.Z.create({color:"positive",position:"top-right",message:a.success,icon:"done"}),a}catch(a){return{error:i(a)}}};return{list:t,post:n,update:s,remove:r,getById:a}}function i(e){const t=e.response.status,a=e.response.data.errors,l=e.response.data.message;if(404==t&&o.Z.create({color:"negative",position:"top-right",message:"Falha na solicitação.",icon:"report_problem"}),a)for(let n=0;n<Object.keys(a).length;n++){const e=Object.keys(a)[n],t=a[e];if("string"===typeof t)o.Z.create({color:"negative",position:"top-right",message:t,icon:"report_problem"});else for(let a=0;a<t.length;a++)o.Z.create({color:"negative",position:"top-right",message:t[a],icon:"report_problem"})}else if(l&&"Unauthenticated."==l)return}function u(e){const t=new FormData;for(const a in e)Array.isArray(e[a])?e[a].forEach((e=>t.append(a,e))):t.append(a,e[a]);return t}l.api.defaults.headers.common.Authorization=`Bearer ${localStorage.getItem("token")}`,l.api.defaults.baseURL="http://localhost:8000/"},3759:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(8236);function o(){const{list:e,post:t,update:a,remove:o,getById:n}=(0,l.Z)("type");return{list:e,post:t,update:a,remove:o,getById:n}}},8366:(e,t,a)=>{a.d(t,{Z:()=>Z});var l=a(3673),o=a(1959),n=a(8880),i=a(2323);const u={class:"text-h6"},s={key:0},r={key:1},p={key:2},c={__name:"GenericModalInputs",props:{input:{type:Object,required:!0},loading:{type:Boolean,required:!0},title:{type:String,required:!0},is_show:{type:Boolean,required:!0},action:{type:String,required:!0}},emits:["inputs_data","close_modal"],setup(e,{emit:t}){const a=e,c=(0,o.iH)([]);function d(){c.value&&c.value.types_id&&c.value.types_id.value&&(c.value.types_id=c.value.types_id.value),t("inputs_data",c.value),m(!0)}function m(e=!1){e||(a.input.forEach((e=>{c.value[e.name]=e.value})),t("close_modal",a.action))}a.input.forEach((e=>{c.value[e.name]=e.value}));const v=(0,l.Fl)({get:()=>a.is_show,set:e=>{m()}});return(t,m)=>{const g=(0,l.up)("q-card-section"),y=(0,l.up)("q-input"),f=(0,l.up)("q-select"),b=(0,l.up)("q-btn"),w=(0,l.up)("q-card-actions"),_=(0,l.up)("q-card"),h=(0,l.up)("q-dialog"),q=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(h,{modelValue:(0,o.SU)(v),"onUpdate:modelValue":m[1]||(m[1]=e=>(0,o.dq)(v)?v.value=e:null)},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l._)("form",{onSubmit:m[0]||(m[0]=(0,n.iM)((e=>d()),["prevent"]))},[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l._)("div",u,(0,i.zw)(e.title),1)])),_:1}),(0,l.Wm)(g,{class:"q-pt-none"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.input,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},["date"==e.type?((0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(y,{outlined:"",label:e.label,type:"date",class:"q-my-sm",modelValue:c.value[e.name],"onUpdate:modelValue":t=>c.value[e.name]=t},null,8,["label","modelValue","onUpdate:modelValue"])])):"text"==e.type?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(y,{outlined:"",label:e.label,type:"text",class:"q-my-sm",modelValue:c.value[e.name],"onUpdate:modelValue":t=>c.value[e.name]=t},null,8,["label","modelValue","onUpdate:modelValue"])])):"select"==e.type?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(f,{outlined:"",label:e.label,class:"q-my-sm",modelValue:c.value[e.name],"onUpdate:modelValue":t=>c.value[e.name]=t,options:e.options,"option-label":"label","emit-value":"","map-options":""},null,8,["label","modelValue","onUpdate:modelValue","options"])])):(0,l.kq)("",!0)])))),128))])),_:1}),(0,l.Wm)(w,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{flat:"",label:"OK",color:"primary",type:"submit"}),(0,l.wy)((0,l.Wm)(b,{flat:"",label:"Cancelar",color:"negative"},null,512),[[q]])])),_:1})],32)])),_:1})])),_:1},8,["modelValue"])}}};var d=a(6778),m=a(151),v=a(5589),g=a(4842),y=a(7637),f=a(9367),b=a(8240),w=a(677),_=a(7518),h=a.n(_);const q=c,Z=q;h()(c,"components",{QDialog:d.Z,QCard:m.Z,QCardSection:v.Z,QInput:g.Z,QSelect:y.Z,QCardActions:f.Z,QBtn:b.Z}),h()(c,"directives",{ClosePopup:w.Z})},7706:(e,t,a)=>{a.d(t,{Z:()=>y});var l=a(3673),o=a(2323),n=a(8880),i=a(1959);const u={__name:"GenericTable",props:{columns:{type:Object,required:!0},rows:{type:Object,required:!0},loading:{type:Boolean,required:!0}},emits:["change_page","line_clicked","delete_item"],setup(e,{emit:t}){const a=e,u=(0,i.iH)("");function s(e){if(null==e||""==e)return;let t=e.split("-");return`${t[2]}/${t[1]}/${t[0]}`}function r(e){const t=new Date(e),a=t.toLocaleDateString("pt-BR"),l=t.toLocaleTimeString("pt-BR");return`${a} ${l}`}function p(e,a){t("line_clicked",a.id)}function c(e){t("delete_item",e)}return(e,t)=>{const i=(0,l.up)("q-td"),d=(0,l.up)("q-btn"),m=(0,l.up)("q-icon"),v=(0,l.up)("q-input"),g=(0,l.up)("q-table");return(0,l.wg)(),(0,l.j4)(g,{loading:a.loading,class:"my-sticky-header-table",rows:a.rows,columns:a.columns,"row-key":"name",flat:"",bordered:"",onRowClick:p,filter:u.value},{"body-cell-date":(0,l.w5)((e=>[(0,l.Wm)(i,{props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(s(e.value)),1)])),_:2},1032,["props"])])),"body-cell-date_time":(0,l.w5)((e=>[(0,l.Wm)(i,{props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(r(e.value)),1)])),_:2},1032,["props"])])),"body-cell-delete_id":(0,l.w5)((e=>[(0,l.Wm)(i,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{icon:"delete",flat:"",round:"",color:"negative",onClick:(0,n.iM)((t=>c(e.value)),["stop"])},null,8,["onClick"])])),_:2},1032,["props"])])),"top-right":(0,l.w5)((()=>[(0,l.Wm)(v,{borderless:"",dense:"",debounce:"300",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),placeholder:"Buscar"},{append:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["loading","rows","columns","filter"])}}};var s=a(6429),r=a(3884),p=a(8240),c=a(4842),d=a(4554),m=a(7518),v=a.n(m);const g=u,y=g;v()(u,"components",{QTable:s.Z,QTd:r.Z,QBtn:p.Z,QInput:c.Z,QIcon:d.Z})},5905:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(3673),o=a(1959),n=a(3759),i=a(7706),u=a(8366);const s=(0,l._)("h1",{class:"text-center text-h3"},"Tipos de Produto",-1),r={class:"q-ma-md"},p={class:"q-ma-md"},c={__name:"Type",setup(e){const{list:t,post:a,remove:c,update:d}=(0,n.Z)(),m=async(e=0,a={})=>{b.value=!0;let l=await t(0,null);w.value=JSON.parse(l.success),b.value=!1},v=async e=>{await a(e);m(),q.value=[{label:"Tipo",type:"text",name:"name",value:""},{label:"Imposto (%)",type:"text",name:"tax",value:""}]},g=async e=>{await d(e);m()},y=async e=>{await c(e);m()},f=[{name:"id",align:"left",label:"ID",field:"id"},{name:"name",align:"left",label:"Tipo",field:"name"},{name:"tax",align:"left",label:"Imposto (%)",field:"tax"},{name:"delete_id",align:"left",label:"AÇÃO",field:"id"}],b=(0,o.iH)(!1),w=(0,o.iH)([]);function _(e){m(e)}function h(e){y(e)}m();const q=(0,o.iH)([{label:"Tipo",type:"text",name:"name",value:""},{label:"Imposto (%)",type:"text",name:"tax",value:""}]),Z=(0,o.iH)(!1),k=(0,o.iH)("Adicionar tipo de produto"),x=(0,o.iH)(!1),I=(0,o.iH)("plus"),V=(0,o.iH)(0);function H(e){q.value.forEach((t=>{t.name in e&&(t.value=e[t.name])})),v(e),C(!1)}function W(e){C(!1)}function C(e){V.value=V.value+1,x.value=e}function D(e){const t=w.value.find((t=>t.id==e));Q.value=[{label:"ID",type:"hidden",name:"id",value:e},{label:"Tipo",type:"text",name:"name",value:t.name},{label:"Imposto",type:"text",name:"tax",value:t.tax}],V.value=V.value+1,O(!0)}const Q=(0,o.iH)([{label:"ID",type:"hidden",name:"id",value:""},{label:"Tipo",type:"text",name:"name",value:""},{label:"Imposto",type:"text",name:"text",value:""}]),B=(0,o.iH)(!1),T=(0,o.iH)("Alterar tipo de produto"),U=(0,o.iH)(!1),j=(0,o.iH)("update");function S(e){Q.value.forEach((t=>{t.name in e&&(t.value=e[t.name])})),g(e),m(null,e),O(!1)}function $(e){O(!1)}function O(e){U.value=e}return(e,t)=>{const a=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[s,(0,l._)("div",r,[(0,l.Wm)(a,{label:"Adicionar item",onClick:t[0]||(t[0]=e=>C(!0))}),((0,l.wg)(),(0,l.j4)(u.Z,{input:q.value,loading:Z.value,title:k.value,is_show:x.value,action:I.value,onInputs_data:H,onClose_modal:W,key:V.value},null,8,["input","loading","title","is_show","action"])),((0,l.wg)(),(0,l.j4)(u.Z,{input:Q.value,loading:B.value,title:T.value,is_show:U.value,action:j.value,onInputs_data:S,onClose_modal:$,key:V.value},null,8,["input","loading","title","is_show","action"]))]),(0,l._)("div",p,[(0,l.Wm)(i.Z,{columns:f,loading:b.value,rows:w.value,onChange_page:_,onLine_clicked:D,onDelete_item:h},null,8,["loading","rows"])])],64)}}};var d=a(8240),m=a(7518),v=a.n(m);const g=c,y=g;v()(c,"components",{QBtn:d.Z})}}]);