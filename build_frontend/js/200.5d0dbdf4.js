"use strict";(globalThis["webpackChunkakc_solutions"]=globalThis["webpackChunkakc_solutions"]||[]).push([[200],{8236:(e,t,a)=>{a.d(t,{Z:()=>n});var l=a(5474),o=a(4434);function n(e){const t=async(t=null,a=null)=>{try{const o={};t&&(o.page=t),a&&Object.assign(o,a);const{data:n}=await l.api.get(e+"/read.php",{params:o});return n}catch(o){return{error:i(o)}}},a=async t=>{try{const{data:a}=await l.api.get(`${e}/read.php?id=${t}`);return a}catch(a){return{error:i(a)}}},n=async t=>{t=s(t);try{const{data:a}=await l.api.post(e+"/store.php",t);return o.Z.create({color:"positive",position:"top-right",message:a.success,icon:"done"}),a}catch(a){return{error:i(a)}}},r=async t=>{t=s(t);try{const{data:a}=await l.api.post(e+"/update.php",t);return o.Z.create({color:"positive",position:"top-right",message:a.success,icon:"done"}),a}catch(a){return{error:i(a)}}},u=async t=>{try{const{data:a}=await l.api["delete"](`${e}/delete.php?id=${t}`);return o.Z.create({color:"positive",position:"top-right",message:a.success,icon:"done"}),a}catch(a){return{error:i(a)}}};return{list:t,post:n,update:r,remove:u,getById:a}}function i(e){const t=e.response.status,a=e.response.data.errors,l=e.response.data.message;if(404==t&&o.Z.create({color:"negative",position:"top-right",message:"Falha na solicitação.",icon:"report_problem"}),a)for(let n=0;n<Object.keys(a).length;n++){const e=Object.keys(a)[n],t=a[e];if("string"===typeof t)o.Z.create({color:"negative",position:"top-right",message:t,icon:"report_problem"});else for(let a=0;a<t.length;a++)o.Z.create({color:"negative",position:"top-right",message:t[a],icon:"report_problem"})}else if(l&&"Unauthenticated."==l)return}function s(e){const t=new FormData;for(const a in e)Array.isArray(e[a])?e[a].forEach((e=>t.append(a,e))):t.append(a,e[a]);return t}l.api.defaults.headers.common.Authorization=`Bearer ${localStorage.getItem("token")}`,l.api.defaults.baseURL="http://localhost:8000/"},8366:(e,t,a)=>{a.d(t,{Z:()=>k});var l=a(3673),o=a(1959),n=a(8880),i=a(2323);const s={class:"text-h6"},r={key:0},u={key:1},c={key:2},d={__name:"GenericModalInputs",props:{input:{type:Object,required:!0},loading:{type:Boolean,required:!0},title:{type:String,required:!0},is_show:{type:Boolean,required:!0},action:{type:String,required:!0}},emits:["inputs_data","close_modal"],setup(e,{emit:t}){const a=e,d=(0,o.iH)([]);function p(){d.value&&d.value.types_id&&d.value.types_id.value&&(d.value.types_id=d.value.types_id.value),t("inputs_data",d.value),m(!0)}function m(e=!1){e||(a.input.forEach((e=>{d.value[e.name]=e.value})),t("close_modal",a.action))}a.input.forEach((e=>{d.value[e.name]=e.value}));const v=(0,l.Fl)({get:()=>a.is_show,set:e=>{m()}});return(t,m)=>{const g=(0,l.up)("q-card-section"),f=(0,l.up)("q-input"),y=(0,l.up)("q-select"),_=(0,l.up)("q-btn"),w=(0,l.up)("q-card-actions"),b=(0,l.up)("q-card"),h=(0,l.up)("q-dialog"),q=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(h,{modelValue:(0,o.SU)(v),"onUpdate:modelValue":m[1]||(m[1]=e=>(0,o.dq)(v)?v.value=e:null)},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l._)("form",{onSubmit:m[0]||(m[0]=(0,n.iM)((e=>p()),["prevent"]))},[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l._)("div",s,(0,i.zw)(e.title),1)])),_:1}),(0,l.Wm)(g,{class:"q-pt-none"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.input,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},["date"==e.type?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(f,{outlined:"",label:e.label,type:"date",class:"q-my-sm",modelValue:d.value[e.name],"onUpdate:modelValue":t=>d.value[e.name]=t},null,8,["label","modelValue","onUpdate:modelValue"])])):"text"==e.type?((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(f,{outlined:"",label:e.label,type:"text",class:"q-my-sm",modelValue:d.value[e.name],"onUpdate:modelValue":t=>d.value[e.name]=t},null,8,["label","modelValue","onUpdate:modelValue"])])):"select"==e.type?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(y,{outlined:"",label:e.label,class:"q-my-sm",modelValue:d.value[e.name],"onUpdate:modelValue":t=>d.value[e.name]=t,options:e.options,"option-label":"label","emit-value":"","map-options":""},null,8,["label","modelValue","onUpdate:modelValue","options"])])):(0,l.kq)("",!0)])))),128))])),_:1}),(0,l.Wm)(w,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{flat:"",label:"OK",color:"primary",type:"submit"}),(0,l.wy)((0,l.Wm)(_,{flat:"",label:"Cancelar",color:"negative"},null,512),[[q]])])),_:1})],32)])),_:1})])),_:1},8,["modelValue"])}}};var p=a(6778),m=a(151),v=a(5589),g=a(4842),f=a(7637),y=a(9367),_=a(8240),w=a(677),b=a(7518),h=a.n(b);const q=d,k=q;h()(d,"components",{QDialog:p.Z,QCard:m.Z,QCardSection:v.Z,QInput:g.Z,QSelect:f.Z,QCardActions:y.Z,QBtn:_.Z}),h()(d,"directives",{ClosePopup:w.Z})},7706:(e,t,a)=>{a.d(t,{Z:()=>f});var l=a(3673),o=a(2323),n=a(8880),i=a(1959);const s={__name:"GenericTable",props:{columns:{type:Object,required:!0},rows:{type:Object,required:!0},loading:{type:Boolean,required:!0}},emits:["change_page","line_clicked","delete_item"],setup(e,{emit:t}){const a=e,s=(0,i.iH)("");function r(e){if(null==e||""==e)return;let t=e.split("-");return`${t[2]}/${t[1]}/${t[0]}`}function u(e){const t=new Date(e),a=t.toLocaleDateString("pt-BR"),l=t.toLocaleTimeString("pt-BR");return`${a} ${l}`}function c(e,a){t("line_clicked",a.id)}function d(e){t("delete_item",e)}return(e,t)=>{const i=(0,l.up)("q-td"),p=(0,l.up)("q-btn"),m=(0,l.up)("q-icon"),v=(0,l.up)("q-input"),g=(0,l.up)("q-table");return(0,l.wg)(),(0,l.j4)(g,{loading:a.loading,class:"my-sticky-header-table",rows:a.rows,columns:a.columns,"row-key":"name",flat:"",bordered:"",onRowClick:c,filter:s.value},{"body-cell-date":(0,l.w5)((e=>[(0,l.Wm)(i,{props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(r(e.value)),1)])),_:2},1032,["props"])])),"body-cell-date_time":(0,l.w5)((e=>[(0,l.Wm)(i,{props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(u(e.value)),1)])),_:2},1032,["props"])])),"body-cell-delete_id":(0,l.w5)((e=>[(0,l.Wm)(i,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{icon:"delete",flat:"",round:"",color:"negative",onClick:(0,n.iM)((t=>d(e.value)),["stop"])},null,8,["onClick"])])),_:2},1032,["props"])])),"top-right":(0,l.w5)((()=>[(0,l.Wm)(v,{borderless:"",dense:"",debounce:"300",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),placeholder:"Buscar"},{append:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["loading","rows","columns","filter"])}}};var r=a(6429),u=a(3884),c=a(8240),d=a(4842),p=a(4554),m=a(7518),v=a.n(m);const g=s,f=g;v()(s,"components",{QTable:r.Z,QTd:u.Z,QBtn:c.Z,QInput:d.Z,QIcon:p.Z})},1200:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});a(5663);var l=a(3673),o=a(1959),n=a(8339),i=a(8236);function s(){const{list:e,post:t,update:a,remove:l,getById:o}=(0,i.Z)("sale");return{list:e,post:t,update:a,remove:l,getById:o}}var r=a(7706),u=a(8366);const c=(0,l._)("h1",{class:"text-center text-h3"},"Vendas",-1),d={class:"q-ma-md"},p={class:"q-ma-md"},m={__name:"Sale",setup(e){const{list:t,post:a,remove:i,update:m}=s(),v=async(e=0,a={})=>{_.value=!0;let l=await t(0,null);w.value=JSON.parse(l.success),_.value=!1},g=async e=>{await a(e);v(),Z.value=[{label:"Data",type:"date",name:"date",value:""}]},f=async e=>{await i(e);v()},y=[{name:"id",align:"left",label:"ID",field:"id"},{name:"date",align:"left",label:"Data",field:"date"},{name:"total",align:"left",label:"Total",field:"total"},{name:"total_tax",align:"left",label:"Total Imposto",field:"total_tax"},{name:"total_itens",align:"left",label:"Totalde Itens",field:"total_itens"},{name:"delete_id",align:"left",label:"AÇÃO",field:"id"}],_=(0,o.iH)(!1),w=(0,o.iH)([]);function b(e){v(e)}function h(e){f(e)}const q=(0,n.tv)();function k(e){q.push("/venda/"+e)}v();const Z=(0,o.iH)([{label:"Data",type:"date",name:"date",value:""}]),V=(0,o.iH)(!1),W=(0,o.iH)("Adicionar tipo de produto"),D=(0,o.iH)(!1),Q=(0,o.iH)("plus"),B=(0,o.iH)(0);function C(e){Z.value.forEach((t=>{t.name in e&&(t.value=e[t.name])})),g(e),H(!1)}function U(e){H(!1)}function H(e){B.value=B.value+1,D.value=e}return(e,t)=>{const a=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[c,(0,l._)("div",d,[(0,l.Wm)(a,{label:"Nova venda",onClick:t[0]||(t[0]=e=>H(!0))}),((0,l.wg)(),(0,l.j4)(u.Z,{input:Z.value,loading:V.value,title:W.value,is_show:D.value,action:Q.value,onInputs_data:C,onClose_modal:U,key:B.value},null,8,["input","loading","title","is_show","action"]))]),(0,l._)("div",p,[(0,l.Wm)(r.Z,{columns:y,loading:_.value,rows:w.value,onChange_page:b,onLine_clicked:k,onDelete_item:h},null,8,["loading","rows"])])],64)}}};var v=a(8240),g=a(7518),f=a.n(g);const y=m,_=y;f()(m,"components",{QBtn:v.Z})}}]);